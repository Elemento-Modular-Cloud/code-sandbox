commands:
  ## STORAGE ##
  - name: Storage-Ping
    retries: 2
    timeout: 5
    curl: |
      curl --request GET \
      --url http://{IP}:7772/

  - name: Storage-Cancreate
    retries: 2
    timeout: 5
    curl: |
      curl --request GET \
      --url http://{IP}:7772/api/v1.0/cancreate \
      --data '{
        "creatorID": "ffffffffffffffffffffffffffffffff",
        "name": "volume",
        "private": false,
        "readonly": false,
        "shareable": false,
        "bootable": true,
        "size": 100
      }'

  - name: Storage-Info
    retries: 2
    timeout: 5
    curl: |
      curl --request POST \
      --url http://{IP}:7772/api/v1.0/info \
      --header 'Content-Type: application/json' \
      --data '{
        "volume_id": "ffffffffffffffffffffffffffffffff"
      }'

  - name: Storage-Accessible
    retries: 2
    timeout: 5
    curl: |
      curl --request POST \
      --url http://{IP}:7772/api/v1.0/accessible \
      --data '{
        "client_uid": "5e96afa52c1a53348adc5c5663978058"
      }'

  - name: Storage-Create
    retries: 2
    timeout: 5
    curl: |
      curl --request POST \
      --url http://{IP}:7772/api/v1.0/create \
      --header 'Content-Type: application/json' \
      --data '{
        "creatorID": "ffffffffffffffffffffffffffffffff",
        "name": "test-create",
        "private": false,
        "readonly": false,
        "shareable": false,
        "bootable": false,
        "clonable": false,
        "alg": "no",
        "format": "qcow2",
        "bus": "virtio",
        "size": 1
      }'

  - name: Storage-Destroy
    retries: 2
    timeout: 5
    curl: |
      curl --request POST \
      --url http://{IP}:7772/api/v1.0/destroy \
      --header 'Content-Type: application/json' \
      --data '{
        "volumeID": "ffffffffffffffffffffffffffffffff"
      }'

  - name: Storage-Export
    retries: 2
    timeout: 5
    curl: |
      curl --request POST \
      --url http://{IP}:7772/api/v1.0/export \
      --data '{
        "client_uid": "5e96afa52c1a53348adc5c5663978058",
        "volume_id": "1d33c321bf1449d4a9fbc5f960ac5035"
      }'

  - name: Storage-Unexport
    retries: 2
    timeout: 5
    curl: |
      curl --request POST \
      --url http://{IP}:7772/api/v1.0/unexport \
      --data '{
        "client_uid": "5e96afa52c1a53348adc5c5663978058",
        "volume_id": "1d33c321bf1449d4a9fbc5f960ac5035"
      }'

  ## MATCHER ##
  - name: Matcher-Ping
    retries: 2
    timeout: 5
    curl: |
      curl --request GET \
      --url http://{IP}:7777/

  - name: Matcher-Status
    retries: 2
    timeout: 5
    curl: |
      curl --request GET \
      --url http://{IP}:7777/api/v1.0/status

  - name: Matcher-StatusJson
    retries: 2
    timeout: 5
    curl: |
      curl --request GET \
      --url http://{IP}:7777/api/v1.0/statusjson

  - name: Matcher-Canallocate
    retries: 2
    timeout: 5
    curl: |
      curl --request GET \
      --url http://{IP}:7777/api/v1.0/canallocate \
      --header 'Content-Type: application/json' \
      --data '{
          "py/object": "common.lib.system.systemrequirements.systemrequirements",
          "cpu": {
              "py/object": "common.lib.components.cpu.cpurequirements.cpurequirements",
              "slots": 1,
              "fullPhysical": false,
              "maxOverprovision": 1,
              "min_frequency": "0.5",
              "arch": [
                  "X86_64"
              ],
              "flags": []
          },
          "mem": {
              "py/object": "common.lib.components.memory.memrequirements.memrequirements",
              "capacity": 256,
              "requireECC": 0
          },
          "pci": {
              "py/object": "common.lib.components.pcidev.pcirequirements.pcirequirements",
              "devices": {}
          },
          "misc": {
              "py/object": "common.lib.components.misc.miscrequirements.miscrequirements",
              "os_family": "linux",
              "os_flavour": "ubuntu",
              "manufacturer": "Any"
          }
      }'

  - name: Matcher-Register
    retries: 2
    timeout: 5
    curl: |
      curl --request POST \
      --url http://{IP}:7777/api/v1.0/register \
      --header 'Content-Type: application/json' \
      --data '{
          "client_uid": 5e96afa52c1a53348adc5c5663978058,
          "vm_name": "test",
          "req": {
              "py/object": "common.lib.system.systemrequirements.systemrequirements",
              "cpu": {
                  "py/object": "common.lib.components.cpu.cpurequirements.cpurequirements",
                  "slots": 2,
                  "fullPhysical": true,
                  "maxOverprovision": 1,
                  "min_frequency": "0.5",
                  "arch": [
                      "X86_64"
                  ],
                  "flags": []
              },
              "mem": {
                  "py/object": "common.lib.components.memory.memrequirements.memrequirements",
                  "capacity": 4096,
                  "requireECC": 0
              },
              "pci": {
                  "py/object": "common.lib.components.pcidev.pcirequirements.pcirequirements",
                  "devices": {}
              },
              "misc": {
                  "py/object": "common.lib.components.misc.miscrequirements.miscrequirements",
                  "os_family": "linux",
                  "os_flavour": "debian",
                  "manufacturer": "Any"
              }
          },
          "volumes": [
              {
                  "bootable": false,
                  "creatorID": "5e96afa52c1a53348adc5c5663978058",
                  "name": "a",
                  "private": false,
                  "readonly": false,
                  "shareable": false,
                  "size": 50000000000,
                  "volumeID": "c386eca8330b41b2afec9b466a578443"
              }
          ],
          "has_network": true,
          "networks": [
              {
                  "network_uid": "virbr0"
              }
          ]
      }'

  - name: Matcher-Register
    retries: 2
    timeout: 5
    curl: |
      curl --request DELETE \
      --url http://{IP}:7777/api/v1.0/unregister \
      --header 'Content-Type: application/json' \
      --data '{
        "client_uid": "5e96afa52c1a53348adc5c5663978058",
        "vm_uid": "c05c3225-4f92-47ac-bdcd-a3380916984d"
      }'

  - name: Matcher-Running
    retries: 2
    timeout: 5
    curl: |
      curl --request GET \
      --url http://{IP}:7777/api/v1.0/running \
      --header 'Content-Type: application/json' \
      --data '{
        "client_uid": "5e96afa52c1a53348adc5c5663978058"
      }'

  - name: Matcher-UsageLogs
    retries: 2
    timeout: 5
    curl: |
      curl --request GET \
      --url 'http://{IP}:7777/api/v1.0/usage?start_date=2025-01-01%2000%3A00%3A00&end_date=2025-12-31%2023%3A59%3A59'
